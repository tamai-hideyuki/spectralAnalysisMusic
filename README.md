# 脳波エントレインメント音源生成・分析ツール

## 概要
このツールは、脳波エントレインメント（脳波誘導）技術を活用して、特定の脳波状態に導くためのバイノーラルビート音源を生成・分析するWebアプリケーションです。瞑想、集中、リラックス、睡眠などの目的に応じた音源を科学的根拠に基づいて生成し、リアルタイムで音響スペクトル分析を行うことができます。

## 主な機能

### 🧠 脳波帯域別音源生成
- **デルタ波 (0.5-4Hz)**: 深い睡眠、身体回復
- **シータ波 (4-8Hz)**: 瞑想、創造性、記憶統合
- **アルファ波 (8-13Hz)**: リラックス、集中準備
- **ベータ波 (13-30Hz)**: 集中、論理思考、活動的な思考
- **ガンマ波 (30-100Hz)**: 高次認知、洞察、意識の統合

### 🎵 バイノーラルビート生成
- カスタマイズ可能なキャリア周波数（100-500Hz）
- ターゲット周波数の精密調整
- ピンクノイズ混合による自然な音質
- 5分間の自動音源生成
- フェードイン・フェードアウト機能
- WAVファイルとしてダウンロード可能

### 📊 リアルタイム音響分析
- **脳波帯域パワー分析**: 各帯域の活性度をリアルタイム表示
- **高解像度スペクトラム**: 0-100Hzの脳波周波数に特化した詳細分析
- **時間波形表示**: 音声波形のリアルタイム可視化
- **色分け表示**: 各脳波帯域を直感的に理解できる配色

### 📁 ファイル解析機能
- 既存音源ファイルのアップロード・分析
- 音源の脳波への影響度評価
- 周波数成分の詳細解析

## 技術スタック

### フロントエンド技術
- **HTML5**: セマンティックマークアップ
- **CSS3**: モダンなダークテーマUI、レスポンシブデザイン
- **JavaScript (ES6+)**: バニラJSによる高性能実装

### Web Audio API活用
- **AudioContext**: 音声処理の中核エンジン
- **AnalyserNode**: FFTによるスペクトラム分析（FFTサイズ: 4096）
- **OscillatorNode**: 精密な周波数生成
- **GainNode**: 音量制御とフェード効果
- **StereoPannerNode**: 左右チャンネル独立制御

### Canvas API
- リアルタイムスペクトラム可視化
- 60fps アニメーション
- 脳波帯域の動的レンダリング

## 音源生成アルゴリズム

```javascript
// バイノーラルビート生成原理
左耳: sin(2π × キャリア周波数 × 時間)
右耳: sin(2π × (キャリア周波数 + ターゲット周波数) × 時間)
// 左右の周波数差が脳波誘導効果を生み出す
```

## インストールと起動

### 必要な環境
- モダンブラウザ（Chrome, Firefox, Safari, Edge）
- Python 3.x（ローカルサーバー用）

### 起動方法
```bash
# リポジトリをクローン
git clone https://github.com/yourusername/spectralAnalysisMusic.git
cd spectralAnalysisMusic

# ローカルサーバーを起動
python3 -m http.server 8000

# ブラウザでアクセス
# http://localhost:8000
```

## 使用方法

1. **脳波タイプを選択**: 目的に応じた脳波帯域を選択
2. **パラメータ調整**: スライダーで周波数と音量を微調整
3. **音源生成**: 「Generate」ボタンで5分間の音源を自動生成
4. **分析確認**: リアルタイムでスペクトラム分析を観察
5. **ダウンロード**: 生成した音源をWAVファイルとして保存

## 科学的根拠

このツールは以下の神経科学的研究に基づいています：
- **周波数追従反応（FFR）**: 脳が外部の周期的刺激に同調する現象
- **バイノーラルビート**: 左右の耳に異なる周波数を聞かせることで脳内に第3の周波数を生成
- **脳波エントレインメント**: 音響刺激による脳波パターンの誘導

## セキュリティと安全性

- 音量制限（最大80%）による聴覚保護
- ヘッドフォン使用推奨の明示
- 15-30分の適切な使用時間ガイダンス
- 段階的なフェード機能

## ブラウザ対応

| ブラウザ | バージョン | 対応状況 |
|---------|-----------|----------|
| Chrome | 90+ | ✅ 完全対応 |
| Firefox | 88+ | ✅ 完全対応 |
| Safari | 14+ | ✅ 完全対応 |
| Edge | 90+ | ✅ 完全対応 |

## 今後の開発予定

- [ ] プリセット保存機能
- [ ] 使用統計とセッション記録
- [ ] MP3エクスポート対応
- [ ] モバイルアプリ版
- [ ] 複数周波数の同時生成
- [ ] AIによる最適周波数提案

## ライセンス

MIT License

## 貢献

プルリクエストを歓迎します。大きな変更の場合は、まずissueを開いて変更内容について議論してください。

## 注意事項

- このツールは医療機器ではありません
- てんかんの既往歴がある方は使用前に医師にご相談ください
- 運転中や機械操作中の使用は避けてください
- 効果には個人差があります
